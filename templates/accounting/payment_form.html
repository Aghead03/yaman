{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="header">
    <h2>{% if form.instance.pk %}تعديل{% else %}إضافة{% endif %} دفعة</h2>
</div>

<form method="post" class="form">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="id_student">الطالب:</label>
        {% if student %}
            <input type="text" value="{{ student.full_name }}" class="form-control" disabled>
            <input type="hidden" name="student" value="{{ student.id }}">
        {% else %}
            {{ form.student }}
        {% endif %}
        {{ form.student.errors }}
    </div>
    
    <div class="form-group">
        <label for="id_payment_type">نوع الدفعة:</label>
        {{ form.payment_type }}
        {{ form.payment_type.errors }}
    </div>
    
    <div class="form-group">
        <label for="id_required_amount">المبلغ المطلوب:</label>
        {{ form.required_amount }}
        {{ form.required_amount.errors }}
    </div>
    
    <div class="form-group">
        <label for="id_amount">المبلغ المدفوع:</label>
        {{ form.amount }}
        {{ form.amount.errors }}
    </div>
    
    <div class="form-group">
        <label for="id_date">التاريخ:</label>
        {{ form.date }}
        {{ form.date.errors }}
    </div>
    
    <div class="form-group">
        <label for="id_payment_method">طريقة الدفع:</label>
        {{ form.payment_method }}
        {{ form.payment_method.errors }}
    </div>
    
    <div class="form-group">
        <label for="id_notes">ملاحظات:</label>
        {{ form.notes }}
        {{ form.notes.errors }}
    </div>
    
    <div class="form-actions">
        <button type="submit" class="btn btn-primary">حفظ</button>
        <a href="{% url 'accounting:accounting' %}" class="btn btn-secondary">إلغاء</a>
    </div>
</form>
{% endblock %}